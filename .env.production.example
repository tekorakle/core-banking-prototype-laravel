# =============================================================================
# FinAegis — Production Environment (.env.production.example)
# =============================================================================
# This template is for deploying FinAegis as a PRODUCTION mobile backend.
# Copy to .env and fill in your values.
#
# Key difference from .env.example: APP_ENV=production disables the
# DemoServiceProvider, which means ALL service bindings (wallet balances,
# payments, transaction approvals, bundlers) use REAL implementations.
#
# For the demo/showcase site (finaegis.org), use .env.example with APP_ENV=demo.
# =============================================================================

APP_NAME=FinAegis
APP_BRAND=zelta
APP_ENV=production
APP_KEY=
APP_DEBUG=false
APP_TIMEZONE=UTC
APP_URL=https://api.your-domain.com

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US
APP_MAINTENANCE_DRIVER=file

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=warning

# =============================================================================
# DEMO MODE — ALL DISABLED FOR PRODUCTION
# =============================================================================
DEMO_INSTANT_DEPOSITS=false
DEMO_SKIP_KYC=false
DEMO_MOCK_BANKS=false
DEMO_FAKE_BLOCKCHAIN=false
DEMO_FIXED_EXCHANGE_RATES=false
DEMO_AUTO_APPROVE_TRANSACTIONS=false
DEMO_DEFAULT_DEPOSIT_AMOUNT=0
DEMO_DEFAULT_CURRENCY=USD
DEMO_PROCESSING_DELAY=0
DEMO_SUCCESS_RATE=100
DEMO_SHOW_BANNER=false
DEMO_BANNER_MESSAGE=""
DEMO_BANNER_COLOR=info
DEMO_WATERMARK=false
DEMO_AUTO_CREATE_USERS=false
DEMO_DEFAULT_BALANCE=0
DEMO_KYC_STATUS=pending
DEMO_ENFORCE_DB=false
DEMO_DISABLE_EXTERNAL_APIS=false
DEMO_DATA_RETENTION_DAYS=365
DEMO_MAX_ACCOUNTS=0
DEMO_CLEANUP_ENABLED=false
DEMO_SANDBOX_ENABLED=false

# =============================================================================
# DATABASE
# =============================================================================
DB_CONNECTION=mariadb
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=finaegis
DB_USERNAME=
DB_PASSWORD=

# =============================================================================
# SESSION / CACHE / QUEUE
# =============================================================================
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=redis
FILESYSTEM_DISK=local
QUEUE_CONNECTION=redis

CACHE_STORE=redis
CACHE_PREFIX=finaegis_

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=
REDIS_PORT=6379

# =============================================================================
# MAIL
# =============================================================================
MAIL_MAILER=resend
MAIL_FROM_ADDRESS="noreply@your-domain.com"
MAIL_FROM_NAME="${APP_NAME}"
RESEND_KEY=

# =============================================================================
# BRANDING
# =============================================================================
BRAND_SUPPORT_EMAIL=support@zelta.app
BRAND_LEGAL_EMAIL=legal@zelta.app
BRAND_PRIVACY_EMAIL=privacy@zelta.app
BRAND_LEGAL_ENTITY=Zelta
BRAND_LEGAL_JURISDICTION=
BRAND_GITHUB_URL=
GOOGLE_ANALYTICS_ID=

# =============================================================================
# SECURITY
# =============================================================================
FORCE_HTTPS=true
CORS_LOCAL_ORIGINS=
CORS_PRODUCTION_ORIGINS=https://zelta.app,https://www.zelta.app,https://api.zelta.app
CSP_API_ENDPOINT=https://api.your-domain.com
CSP_WS_ENDPOINT=wss://ws.your-domain.com

# Sanctum Token Expiration (minutes, 1440 = 24 hours)
SANCTUM_TOKEN_EXPIRATION=1440

# =============================================================================
# MOBILE APP
# =============================================================================
FIREBASE_CREDENTIALS=storage/firebase-credentials.json
FIREBASE_PROJECT_ID=

MOBILE_MIN_VERSION=1.0.0
MOBILE_LATEST_VERSION=1.0.0
MOBILE_FORCE_UPDATE=false
MOBILE_MAX_DEVICES=5

MOBILE_SESSION_DURATION=60
MOBILE_TRUSTED_SESSION_DURATION=480
MOBILE_BIOMETRIC_CHALLENGE_TTL=300

MOBILE_PUSH_ENABLED=true
MOBILE_PUSH_MAX_RETRIES=3
MOBILE_PUSH_RETRY_DELAY=60
MOBILE_PUSH_BATCH_SIZE=100
MOBILE_PUSH_CLEANUP_DAYS=30

MOBILE_FEATURE_BIOMETRIC=true
MOBILE_FEATURE_PUSH=true
MOBILE_FEATURE_GCU_TRADING=true
MOBILE_FEATURE_P2P_TRANSFERS=true
MOBILE_FEATURE_EXCHANGE=true
MOBILE_FEATURE_LENDING=false
MOBILE_FEATURE_STABLECOINS=false

MOBILE_STALE_DEVICE_DAYS=90
MOBILE_MAX_BIOMETRIC_FAILURES=5
MOBILE_BIOMETRIC_BLOCK_MINUTES=30

# =============================================================================
# BIOMETRIC JWT (v2.6.0+)
# =============================================================================
BIOMETRIC_JWT_SECRET=
BIOMETRIC_JWT_TTL=300
BIOMETRIC_JWT_STRICT=true
BIOMETRIC_JWT_REVOKED_TTL=24

# =============================================================================
# HSM / KEY MANAGEMENT
# =============================================================================
HSM_ENABLED=true
HSM_PROVIDER=aws
HSM_KEY_ID=

# =============================================================================
# PRIVACY / ZK
# =============================================================================
ZK_PROVIDER=production
ZK_PROOF_VALIDITY_DAYS=90
PRIVACY_AUDIT_LOGGING=true
POI_RENEWAL_THRESHOLD=30
POI_THRESHOLD_USD=10000
PRIVACY_HUMAN_REVIEW=true
PRIVACY_POOLS_ENABLED=false
PRIVACY_BROADCASTERS_ENABLED=false

MERKLE_PROVIDER=production
MERKLE_SYNC_INTERVAL=30
MERKLE_TREE_DEPTH=32

DELEGATED_PROVING_ENABLED=true
DELEGATED_PROVING_MAX_QUEUE=100
DELEGATED_PROVING_TIMEOUT=300
DELEGATED_PROVING_QUEUE=proofs

# =============================================================================
# RELAYER / ERC-4337 — REAL BUNDLER IN PRODUCTION
# =============================================================================
RELAYER_DEFAULT_NETWORK=polygon
RELAYER_FEE_TOKEN=USDC
RELAYER_FEE_MARKUP=0.1
RELAYER_MIN_FEE=0.01
RELAYER_DAILY_LIMIT=100
RELAYER_DAILY_VALUE_LIMIT=1000
BUNDLER_DRIVER=pimlico
BALANCE_PROVIDER=alchemy
BALANCE_CACHE_TTL=30

# Pimlico (ERC-4337 bundler)
PIMLICO_API_KEY=
PIMLICO_CHAIN_ID=137

# Alchemy (balance provider)
ALCHEMY_API_KEY=

# =============================================================================
# X402 PROTOCOL — PRODUCTION
# =============================================================================
X402_ENABLED=true
X402_PAY_TO_ADDRESS=          # Your USDC receiving address on Base
X402_DEFAULT_NETWORK=eip155:8453
X402_DEFAULT_ASSET=USDC
X402_MAX_TIMEOUT_SECONDS=60
X402_SETTLE_BEFORE_RESPONSE=true
X402_FACILITATOR_URL=https://x402.org/facilitator
X402_FACILITATOR_TIMEOUT=30
X402_SELF_HOSTED_FACILITATOR=false
X402_CLIENT_ENABLED=true
X402_CLIENT_SIGNER_KEY_ID=    # HSM key ID for production signing
X402_CLIENT_SIGNER_ADDRESS=   # Your signing wallet address
X402_CLIENT_AUTO_PAY=false    # Require explicit approval in production
X402_CLIENT_MAX_AUTO_PAY=100000
X402_AGENT_DAILY_LIMIT=5000000
X402_REQUIRE_APPROVAL_ABOVE=1000000
X402_PER_TRANSACTION_LIMIT=100000

# =============================================================================
# MOBILE PAYMENT
# =============================================================================
MOBILE_PAYMENT_NETWORKS=SOLANA,TRON
MOBILE_PAYMENT_ASSETS=USDC
MOBILE_PAYMENT_EXPIRY_MINUTES=15
MOBILE_PAYMENT_RECEIPT_CACHE_HOURS=24
MOBILE_PAYMENT_IDEMPOTENCY_QUEUE_MINUTES=30
MOBILE_PAYMENT_DEMO_MODE=false

# =============================================================================
# REGTECH / REGULATORY
# =============================================================================
REGTECH_ENABLED=true
REGTECH_DEMO_MODE=false
REGTECH_ML_ENABLED=true
REGTECH_ML_MODEL_VERSION=1.0.0

# =============================================================================
# TENANCY
# =============================================================================
TENANCY_CENTRAL_CONNECTION=mariadb
TENANCY_TEMPLATE_CONNECTION=mariadb
TENANCY_CENTRAL_DOMAINS=api.your-domain.com

# =============================================================================
# EVENT STORE
# =============================================================================
EVENT_STORE_ARCHIVAL_ENABLED=true
EVENT_STORE_RETENTION_DAYS=365
EVENT_STORE_ARCHIVAL_BATCH_SIZE=1000
EVENT_STORE_COMPACTION_ENABLED=false
EVENT_STORE_KEEP_LATEST=100
EVENT_STORE_PARTITION_STRATEGY=none
EVENT_STORE_GROWTH_RATE_THRESHOLD=10000

# =============================================================================
# POST-DEPLOYMENT
# =============================================================================
# After deployment, run: php artisan l5-swagger:generate
# This generates the OpenAPI spec for /api/documentation
