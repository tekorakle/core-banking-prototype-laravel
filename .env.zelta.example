# =============================================================================
# Zelta — Production SaaS Environment (.env.zelta.example)
# =============================================================================
# Complete production config for zelta.app deployment.
# Copy to .env on the production server and fill in credentials.
#
# APP_ENV=production disables:
#   - DemoServiceProvider (all service bindings use REAL implementations)
#   - Promotional/demo pages (redirect to /)
#   - Public API documentation (requires auth)
# =============================================================================

APP_NAME=Zelta
APP_BRAND=zelta
APP_ENV=production
APP_KEY=
APP_DEBUG=false
APP_TIMEZONE=UTC
APP_URL=https://zelta.app

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US
APP_MAINTENANCE_DRIVER=file

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=warning

# =============================================================================
# BRANDING
# =============================================================================
BRAND_SUPPORT_EMAIL=support@zelta.app
BRAND_LEGAL_EMAIL=legal@zelta.app
BRAND_PRIVACY_EMAIL=privacy@zelta.app
BRAND_LEGAL_ENTITY=Zelta
BRAND_LEGAL_JURISDICTION=
BRAND_GITHUB_URL=
BRAND_TAGLINE=Pay with Stablecoins. Stay Private.
GOOGLE_ANALYTICS_ID=

# =============================================================================
# DEMO MODE — ALL DISABLED FOR PRODUCTION
# =============================================================================
DEMO_INSTANT_DEPOSITS=false
DEMO_SKIP_KYC=false
DEMO_MOCK_BANKS=false
DEMO_FAKE_BLOCKCHAIN=false
DEMO_FIXED_EXCHANGE_RATES=false
DEMO_AUTO_APPROVE_TRANSACTIONS=false
DEMO_DEFAULT_DEPOSIT_AMOUNT=0
DEMO_DEFAULT_CURRENCY=USD
DEMO_PROCESSING_DELAY=0
DEMO_SUCCESS_RATE=100
DEMO_SHOW_BANNER=false
DEMO_BANNER_MESSAGE=""
DEMO_BANNER_COLOR=info
DEMO_WATERMARK=false
DEMO_AUTO_CREATE_USERS=false
DEMO_DEFAULT_BALANCE=0
DEMO_KYC_STATUS=pending
DEMO_ENFORCE_DB=false
DEMO_DISABLE_EXTERNAL_APIS=false
DEMO_DATA_RETENTION_DAYS=365
DEMO_MAX_ACCOUNTS=0
DEMO_CLEANUP_ENABLED=false
DEMO_SANDBOX_ENABLED=false

# =============================================================================
# DATABASE
# =============================================================================
DB_CONNECTION=mariadb
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=zelta
DB_USERNAME=zelta
DB_PASSWORD=

# =============================================================================
# SESSION / CACHE / QUEUE  (Redis for production)
# =============================================================================
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=.zelta.app

BROADCAST_CONNECTION=pusher
FILESYSTEM_DISK=local
QUEUE_CONNECTION=redis

CACHE_STORE=redis
CACHE_PREFIX=zelta_

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=
REDIS_PORT=6379

# =============================================================================
# MAIL (Resend)
# =============================================================================
MAIL_MAILER=resend
MAIL_FROM_ADDRESS="noreply@zelta.app"
MAIL_FROM_NAME="${APP_NAME}"
RESEND_KEY=

# =============================================================================
# SECURITY
# =============================================================================
FORCE_HTTPS=true
CORS_LOCAL_ORIGINS=
CORS_PRODUCTION_ORIGINS=https://zelta.app,https://www.zelta.app,https://api.zelta.app
CSP_API_ENDPOINT=https://api.zelta.app
CSP_WS_ENDPOINT=wss://ws.zelta.app
CSP_FONT_SOURCES=https://fonts.gstatic.com,https://fonts.bunny.net
CSP_STYLE_SOURCES=https://fonts.googleapis.com,https://fonts.bunny.net
CSP_SCRIPT_SOURCES=https://cdn.jsdelivr.net
CSP_CONNECT_SOURCES=

# Sanctum Token Expiration (minutes, 1440 = 24 hours)
SANCTUM_TOKEN_EXPIRATION=1440

# =============================================================================
# PUSHER (Broadcasting)
# =============================================================================
PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_APP_CLUSTER=eu
PUSHER_SCHEME=https

VITE_APP_NAME="${APP_NAME}"
VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# =============================================================================
# STRIPE / PAYMENT PROCESSORS
# =============================================================================
STRIPE_KEY=
STRIPE_SECRET=
STRIPE_WEBHOOK_SECRET=
STRIPE_TEST_MODE=false
CASHIER_CURRENCY=eur
CASHIER_CURRENCY_LOCALE=en

# =============================================================================
# MAILCHIMP
# =============================================================================
MAILCHIMP_API_KEY=
MAILCHIMP_LIST_ID=

# =============================================================================
# MOBILE APP
# =============================================================================
FIREBASE_SERVER_KEY=
FIREBASE_PROJECT_ID=

MOBILE_MIN_VERSION=1.0.0
MOBILE_LATEST_VERSION=1.0.0
MOBILE_FORCE_UPDATE=false
MOBILE_MAX_DEVICES=5

MOBILE_SESSION_DURATION=60
MOBILE_TRUSTED_SESSION_DURATION=480
MOBILE_BIOMETRIC_CHALLENGE_TTL=300

MOBILE_PUSH_ENABLED=true
MOBILE_PUSH_MAX_RETRIES=3
MOBILE_PUSH_RETRY_DELAY=60
MOBILE_PUSH_BATCH_SIZE=100
MOBILE_PUSH_CLEANUP_DAYS=30

MOBILE_FEATURE_BIOMETRIC=true
MOBILE_FEATURE_PUSH=true
MOBILE_FEATURE_GCU_TRADING=true
MOBILE_FEATURE_P2P_TRANSFERS=true
MOBILE_FEATURE_EXCHANGE=true
MOBILE_FEATURE_LENDING=false
MOBILE_FEATURE_STABLECOINS=false

MOBILE_STALE_DEVICE_DAYS=90
MOBILE_MAX_BIOMETRIC_FAILURES=5
MOBILE_BIOMETRIC_BLOCK_MINUTES=30

# =============================================================================
# BIOMETRIC JWT
# =============================================================================
BIOMETRIC_JWT_SECRET=
BIOMETRIC_JWT_TTL=300
BIOMETRIC_JWT_STRICT=true
BIOMETRIC_JWT_REVOKED_TTL=24

# =============================================================================
# HSM / KEY MANAGEMENT
# =============================================================================
HSM_ENABLED=true
HSM_PROVIDER=aws
HSM_KEY_ID=

# =============================================================================
# PRIVACY / ZK
# =============================================================================
ZK_PROVIDER=production
ZK_PROOF_VALIDITY_DAYS=90
PRIVACY_AUDIT_LOGGING=true
POI_RENEWAL_THRESHOLD=30
POI_THRESHOLD_USD=10000
PRIVACY_HUMAN_REVIEW=true
PRIVACY_POOLS_ENABLED=false
PRIVACY_BROADCASTERS_ENABLED=false

MERKLE_PROVIDER=production
MERKLE_SYNC_INTERVAL=30
MERKLE_TREE_DEPTH=32

DELEGATED_PROVING_ENABLED=true
DELEGATED_PROVING_MAX_QUEUE=100
DELEGATED_PROVING_TIMEOUT=300
DELEGATED_PROVING_QUEUE=proofs

# =============================================================================
# RELAYER / ERC-4337 — REAL BUNDLER IN PRODUCTION
# =============================================================================
RELAYER_DEFAULT_NETWORK=polygon
RELAYER_FEE_TOKEN=USDC
RELAYER_FEE_MARKUP=0.1
RELAYER_MIN_FEE=0.01
RELAYER_DAILY_LIMIT=100
RELAYER_DAILY_VALUE_LIMIT=1000
BUNDLER_DRIVER=pimlico
BALANCE_PROVIDER=alchemy
BALANCE_CACHE_TTL=30

# Pimlico (ERC-4337 bundler) — domain-agnostic, can share keys
PIMLICO_API_KEY=
PIMLICO_CHAIN_ID=137
PIMLICO_TIMEOUT=15
PIMLICO_RETRY_COUNT=3

# Network RPC URLs (Alchemy or public endpoints)
POLYGON_RPC_URL=
BASE_RPC_URL=
ARBITRUM_RPC_URL=

# Smart Account Factory addresses (deploy or use existing SimpleAccountFactory)
POLYGON_FACTORY_ADDRESS=
BASE_FACTORY_ADDRESS=
ARBITRUM_FACTORY_ADDRESS=

# Paymaster contract addresses
POLYGON_PAYMASTER_ADDRESS=
BASE_PAYMASTER_ADDRESS=
ARBITRUM_PAYMASTER_ADDRESS=

# Alchemy (balance provider) — domain-agnostic, can share keys
ALCHEMY_API_KEY=

# =============================================================================
# X402 PROTOCOL — PRODUCTION
# =============================================================================
X402_ENABLED=true
X402_PAY_TO_ADDRESS=
X402_DEFAULT_NETWORK=eip155:8453
X402_DEFAULT_ASSET=USDC
X402_MAX_TIMEOUT_SECONDS=60
X402_SETTLE_BEFORE_RESPONSE=true
X402_FACILITATOR_URL=https://x402.org/facilitator
X402_FACILITATOR_TIMEOUT=30
X402_SELF_HOSTED_FACILITATOR=false
X402_CLIENT_ENABLED=true
X402_CLIENT_SIGNER_KEY_ID=
X402_CLIENT_SIGNER_ADDRESS=
X402_CLIENT_AUTO_PAY=false
X402_CLIENT_MAX_AUTO_PAY=100000
X402_AGENT_DAILY_LIMIT=5000000
X402_REQUIRE_APPROVAL_ABOVE=1000000
X402_PER_TRANSACTION_LIMIT=100000

# =============================================================================
# CARD ISSUANCE (Marqeta)
# =============================================================================
CARD_ISSUER=marqeta
MARQETA_BASE_URL=https://sandbox-api.marqeta.com/v3
MARQETA_APPLICATION_TOKEN=
MARQETA_ADMIN_ACCESS_TOKEN=
MARQETA_WEBHOOK_SECRET=
MARQETA_WEBHOOK_USERNAME=
MARQETA_WEBHOOK_PASSWORD=

# =============================================================================
# MOBILE PAYMENT
# =============================================================================
MOBILE_PAYMENT_NETWORKS=SOLANA,TRON
MOBILE_PAYMENT_ASSETS=USDC
MOBILE_PAYMENT_EXPIRY_MINUTES=15
MOBILE_PAYMENT_RECEIPT_CACHE_HOURS=24
MOBILE_PAYMENT_IDEMPOTENCY_QUEUE_MINUTES=30
MOBILE_PAYMENT_DEMO_MODE=false

# =============================================================================
# REGTECH / REGULATORY
# =============================================================================
REGTECH_ENABLED=true
REGTECH_DEMO_MODE=false
REGTECH_ML_ENABLED=true
REGTECH_ML_MODEL_VERSION=1.0.0

# Chainalysis Sanctions Screening
CHAINALYSIS_API_KEY=
CHAINALYSIS_ENABLED=false

# =============================================================================
# AI FRAMEWORK
# =============================================================================
AI_LLM_PROVIDER=openai
AI_VECTOR_DB_PROVIDER=pinecone
AI_AUTO_CREATE_INDEX=false
AI_CONVERSATION_TTL=86400
AI_MAX_CONVERSATIONS_PER_USER=100

# OpenAI — domain-agnostic, can share keys
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# Claude — domain-agnostic, can share keys
CLAUDE_API_KEY=
CLAUDE_MODEL=claude-3-opus-20240229
CLAUDE_TEMPERATURE=0.7
CLAUDE_MAX_TOKENS=4000

# Pinecone — use different index name per deployment
PINECONE_API_KEY=
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_NAME=zelta-ai
PINECONE_INDEX_HOST=

# =============================================================================
# TENANCY
# =============================================================================
TENANCY_CENTRAL_CONNECTION=mariadb
TENANCY_TEMPLATE_CONNECTION=mariadb
TENANCY_CENTRAL_DOMAINS=zelta.app

# =============================================================================
# EVENT STORE
# =============================================================================
EVENT_STORE_ARCHIVAL_ENABLED=true
EVENT_STORE_RETENTION_DAYS=365
EVENT_STORE_ARCHIVAL_BATCH_SIZE=1000
EVENT_STORE_COMPACTION_ENABLED=false
EVENT_STORE_KEEP_LATEST=100
EVENT_STORE_PARTITION_STRATEGY=none
EVENT_STORE_GROWTH_RATE_THRESHOLD=10000

# =============================================================================
# PLUGIN MARKETPLACE
# =============================================================================
PLUGIN_AUTO_DISCOVER=true
PLUGIN_SANDBOX_ENABLED=true
PLUGIN_MARKETPLACE_ENABLED=false
PLUGIN_REGISTRY_URL=

# =============================================================================
# SUB-PRODUCTS
# =============================================================================
SUB_PRODUCT_EXCHANGE_ENABLED=true
SUB_PRODUCT_LENDING_ENABLED=true
SUB_PRODUCT_STABLECOINS_ENABLED=true
SUB_PRODUCT_TREASURY_ENABLED=true

# =============================================================================
# POST-DEPLOYMENT
# =============================================================================
# After deployment, run:
#   php artisan config:cache && php artisan route:cache && php artisan view:cache
#   php artisan migrate --force
#   php artisan l5-swagger:generate
#   php artisan queue:restart
